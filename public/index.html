<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>amc-gpt</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/print.css">
    <!-- showdowns for rendering markdown content inline -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@jhuix/showdowns@0.5.6/dist/showdowns.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@jhuix/showdowns@0.5.6/dist/showdowns.min.js"></script>
    <!-- prism for rendering code snippets-->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/themes/prism-okaidia.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/plugins/toolbar/prism-toolbar.min.css">
  </body>   
</head>

<body>
    <header>
        <h1>amc-gpt</h1>
    </header>

    <div id="container">
      <section id="primaryContent">

        <section id="chat">
            <section id="chatHistory">
              <!-- will contain a series of articles, one for each chat message -->
            </section>

            <div id="thinking">
                <p>Waiting for a reply. Current ChatGPT status:
                <span id="llm-activity"></span>
                </p>
            </div>
            <!-- sound effect from pixabay -->
            <audio src="./sounds/typewriter.mp3" loop="true"></audio>

            <section id="sendMessage">
                <form id="sendMessageForm">
                    <textarea id="userMessage" name="message" placeholder="Send a message..."></textarea>
                    <button id="sendMessageButton">
                        <svg height="16px" width="16px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve">
                            <path stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
                                d="M508.645,18.449c-2.929-2.704-7.133-3.51-10.826-2.085L6.715,204.446c-3.541,1.356-6.066,4.515-6.607,8.264 c-0.541,3.75,0.985,7.496,3.995,9.796l152.127,116.747c-0.004,0.116-0.575,0.224-0.575,0.342v83.592 c0,3.851,2.663,7.393,6.061,9.213c1.541,0.827,3.51,1.236,5.199,1.236c2.026,0,4.181-0.593,5.931-1.756l56.12-37.367 l130.369,99.669c1.848,1.413,4.099,2.149,6.365,2.149c1.087,0,2.186-0.169,3.248-0.516c3.27-1.066,5.811-3.672,6.786-6.974 L511.571,29.082C512.698,25.271,511.563,21.148,508.645,18.449z M170.506,321.508c-0.385,0.36-0.7,0.763-1.019,1.163 L31.659,217.272L456.525,54.557L170.506,321.508z M176.552,403.661v-48.454l33.852,25.887L176.552,403.661z M359.996,468.354 l-121.63-93.012c-1.263-1.77-2.975-3.029-4.883-3.733l-47.29-36.163L480.392,60.86L359.996,468.354z">
                            </path>
                        </svg>
                    </button>
                </form>
            </section>
        </section>

        <section id="systemMessages">
          <!-- any messages from the system, e.g. API errors, content rendering errors, etc. -->
        </section>

      </section>

      <aside>
        <section id="configuration">
          <h2>Settings</h2>
          <form>
            <label for="openAIAPIKey">OpenAI API Key:</label>
            <input type="password" id="openAIAPIKey" placeholder="sk-... (required)" required>
            <label for="typewriter">Typewriter effect:</label>
            <input type="checkbox" id="typewriter" checked>
            <label for="modelNameSelect">Model:</label>
            <select id="modelNameSelect">
              <option value="gpt-3.5-turbo" selected>gpt-3.5-turbo</option>
              <option value="gpt-4">gpt-4</option>
            </select>, or
            <label for="fineTunedModel">your own fine-tuned model:</label>
            <input id="fineTunedModelId" placeholder="model-name">
          </form>
        </section>

        <section id="thoughts">
          <!-- thoughts extracted from ChatGPT's responses -->
          <h2>Thoughts</h2>
          <div id="thoughtsContainer">
          </div>
        </section>

        <section id="assumptions">
          <h2>Assumptions</h2>
          <div id="assumptionsContainer"></div>
        </section>

        <section id="reflection">
          <!-- self-reflection commentary extracted from ChatGPT's responses -->
          <h2>Critique</h2>
          <div id="reflectionsContainer"></div>
        </section>

        <section id="follow-ups">
          <!-- Recommended follow-ups extracted from ChatGPT's reponses -->
          <h2>Follow-up questions</h2>
          <p>(Click on a question to copy it to the input box)</p>
          <div id="followUpsContainer"></div>
        </section>

        <footer>
          <hr>
          <small>
           Credits: Meerkat icon from <a href="https://iconarchive.com">iconarchive.com</a>,
           typewriter sound from <a href="https://pixabay.com">pixabay.com</a>.
          </small>
        </footer>
      </aside>
    </div>


    <script type="module" src="modules/main.js"></script>
</body>

</html>